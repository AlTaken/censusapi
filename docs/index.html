<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Retrieve Data from the U.S. Census Bureau APIs • censusapi</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">censusapi</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/getting-started.html">Getting started with censusapi</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hrecht/censusapi">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    <div id="censusapi" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#censusapi" class="anchor"></a>censusapi</h1></div>
<p><a href="https://travis-ci.org/hrecht/censusapi"><img src="https://travis-ci.org/hrecht/censusapi.svg?branch=master" alt="Build Status"></a> <img src="https://www.r-pkg.org/badges/version/censusapi" alt="CRAN Badge"></p>
<p><code>censusapi</code> is an accessor for the United States Census Bureau’s <a href="https://www.census.gov/developers/">APIs</a>. As of 2017 <a href="https://api.census.gov/data.html">over 200 Census API endpoints</a> are available, including Decennial Census, American Community Survey, Poverty Statistics, and Population Estimates APIs. This package is designed to let you get data from all of those APIs using the same main function—<code>getCensus</code>—and the same syntax for each dataset.</p>
<p><code>censusapi</code> generally uses the APIs’ original parameter names so that users can easily transition between Census’s documentation and examples and this package. It also includes metadata functions to return data frames of available APIs, variables, and geographies.</p>
<p>For more details, see <a href="https://hrecht.github.io/censusapi/articles/getting-started.html">Getting started with censusapi</a> and the package’s <a href="https://hrecht.github.io/censusapi/index.html">website</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Get the latest stable release from CRAN: <code>install.packages("censusapi")</code></p>
<p>Install the latest development version of <code>censusapi</code> from Github using <code>devtools</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools::<span class="kw">install_github</span>(<span class="st">"hrecht/censusapi"</span>)</code></pre></div>
</div>
<div id="api-key-setup" class="section level2">
<h2 class="hasAnchor">
<a href="#api-key-setup" class="anchor"></a>API key setup</h2>
<p>To use the Census APIs, <a href="http://api.census.gov/data/key_signup.html">sign up</a> for an API key, which will be sent to your provided email address. You’ll need that key to use this package. While Census currently does not require an API key for all APIs, that can change at any moment and so this package enforces key usage.</p>
<p>A recommended way to manage your key is to add it to you .Renviron file. Most users will want to do this. Within R, run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add key to .Renviron</span>
<span class="kw">Sys.setenv</span>(<span class="dt">CENSUS_KEY=</span>YOURKEYHERE)
<span class="co"># Reload .Renviron</span>
<span class="kw">readRenviron</span>(<span class="st">"~/.Renviron"</span>)
<span class="co"># Check to see that the expected key is output in your R console</span>
<span class="kw">Sys.getenv</span>(<span class="st">"CENSUS_KEY"</span>)</code></pre></div>
<p>Or, open your .Renviron file in a text editor and add the following line: <code>CENSUS_KEY=YOURKEYHERE</code></p>
<p>Once you’ve added your census key to your system environment, censusapi will use it by default without any extra work on your part.</p>
<p>In some instances you might not want to put your key in your .Renviron - for example, if you’re on a shared school computer. You can always choose to manually set <code>key="YOURKEY"</code> as an argument in getCensus if you prefer.</p>
</div>
<div id="usage-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#usage-examples" class="anchor"></a>Usage examples</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(censusapi)</code></pre></div>
<p>Get uninsured rates in Alabama by income group from the Small Area Health Insurance Estimates <a href="https://www.census.gov/data/developers/data-sets/Health-Insurance-Statistics.html">(SAHIE) timeseries API</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># State-level data for Alabama</span>
<span class="kw"><a href="reference/getCensus.html">getCensus</a></span>(<span class="dt">name=</span><span class="st">"timeseries/healthins/sahie"</span>,
    <span class="dt">vars=</span><span class="kw">c</span>(<span class="st">"NAME"</span>, <span class="st">"IPRCAT"</span>, <span class="st">"IPR_DESC"</span>, <span class="st">"PCTUI_PT"</span>), 
    <span class="dt">region=</span><span class="st">"state:1"</span>, <span class="dt">time=</span><span class="dv">2015</span>)
<span class="co">#&gt;      NAME IPRCAT                IPR_DESC PCTUI_PT time state</span>
<span class="co">#&gt; 1 Alabama      0             All Incomes     11.9 2015    01</span>
<span class="co">#&gt; 2 Alabama      1      &lt;= 200% of Poverty     19.8 2015    01</span>
<span class="co">#&gt; 3 Alabama      2      &lt;= 250% of Poverty     18.6 2015    01</span>
<span class="co">#&gt; 4 Alabama      3      &lt;= 138% of Poverty     21.2 2015    01</span>
<span class="co">#&gt; 5 Alabama      4      &lt;= 400% of Poverty     15.5 2015    01</span>
<span class="co">#&gt; 6 Alabama      5 138% to 400% of Poverty     11.8 2015    01</span>

<span class="co"># County-level data within Alabama, specified by adding the `regionin` parameter.</span>
sahie_counties &lt;-<span class="st"> </span><span class="kw"><a href="reference/getCensus.html">getCensus</a></span>(<span class="dt">name=</span><span class="st">"timeseries/healthins/sahie"</span>,
    <span class="dt">vars=</span><span class="kw">c</span>(<span class="st">"NAME"</span>, <span class="st">"IPRCAT"</span>, <span class="st">"IPR_DESC"</span>, <span class="st">"PCTUI_PT"</span>), 
    <span class="dt">region=</span><span class="st">"county:*"</span>, <span class="dt">regionin=</span><span class="st">"state:1"</span>, <span class="dt">time=</span><span class="dv">2015</span>)
<span class="kw">head</span>(sahie_counties, <span class="dt">n=</span>12L)
<span class="co">#&gt;                  NAME IPRCAT                IPR_DESC PCTUI_PT time state county</span>
<span class="co">#&gt; 1  Autauga County, AL      0             All Incomes      9.4 2015    01    001</span>
<span class="co">#&gt; 2  Autauga County, AL      1      &lt;= 200% of Poverty     16.8 2015    01    001</span>
<span class="co">#&gt; 3  Autauga County, AL      2      &lt;= 250% of Poverty     15.5 2015    01    001</span>
<span class="co">#&gt; 4  Autauga County, AL      3      &lt;= 138% of Poverty     18.6 2015    01    001</span>
<span class="co">#&gt; 5  Autauga County, AL      4      &lt;= 400% of Poverty     12.4 2015    01    001</span>
<span class="co">#&gt; 6  Autauga County, AL      5 138% to 400% of Poverty      9.6 2015    01    001</span>
<span class="co">#&gt; 7  Baldwin County, AL      0             All Incomes     11.5 2015    01    003</span>
<span class="co">#&gt; 8  Baldwin County, AL      1      &lt;= 200% of Poverty     21.1 2015    01    003</span>
<span class="co">#&gt; 9  Baldwin County, AL      2      &lt;= 250% of Poverty     19.5 2015    01    003</span>
<span class="co">#&gt; 10 Baldwin County, AL      3      &lt;= 138% of Poverty     22.5 2015    01    003</span>
<span class="co">#&gt; 11 Baldwin County, AL      4      &lt;= 400% of Poverty     15.7 2015    01    003</span>
<span class="co">#&gt; 12 Baldwin County, AL      5 138% to 400% of Poverty     12.2 2015    01    003</span></code></pre></div>
<p>See more examples in <a href="https://hrecht.github.io/censusapi/articles/getting-started.html">Getting started with censusapi</a></p>
</div>
<div id="time-series-note" class="section level2">
<h2 class="hasAnchor">
<a href="#time-series-note" class="anchor"></a>Time series note</h2>
<p>While the APIs generally return specific error messages for invalid variables or geographies, they currently return no content (status 204) without an error message when an invalid year is specified in some time series. If you’re getting repeated 204 responses double check the Census documentation to make sure your time period is valid.</p>
</div>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<p>This product uses the Census Bureau Data API but is not endorsed or certified by the Census Bureau.</p>
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/hrecht/censusapi">https://​github.com/​hrecht/​censusapi</a>
</li>
<li>Report a bug at <br><a href="https://github.com/hrecht/censusapi/issues">https://​github.com/​hrecht/​censusapi/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Hannah Recht <br><small class="roles"> Author, maintainer </small> </li>
</ul>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Hannah Recht.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
